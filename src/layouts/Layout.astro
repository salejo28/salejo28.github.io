---
interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Santiago Ruiz - Full Stack Developer" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body>
    <!-- Custom Cursor -->
    <div class="cursor" id="cursor"></div>
    <div class="cursor-dot" id="cursorDot"></div>
    
    <!-- Background Effects -->
    <div class="bg-grid fixed inset-0 -z-20"></div>
    <div class="fixed w-150 h-150 rounded-full blur-[120px] opacity-40 -z-10 bg-accent-cyan -top-50 -right-50 animate-float"></div>
    <div class="fixed w-150 h-150 rounded-full blur-[120px] opacity-40 -z-10 bg-accent-purple -bottom-50 -left-50 animate-float" style="animation-delay: -10s;"></div>

    <slot />

    <script>
      // Custom cursor
      const cursor = document.getElementById('cursor');
      const cursorDot = document.getElementById('cursorDot');

      document.addEventListener('mousemove', (e) => {
        if (cursor && cursorDot) {
          cursor.style.left = e.clientX - 10 + 'px';
          cursor.style.top = e.clientY - 10 + 'px';
          cursorDot.style.left = e.clientX - 3 + 'px';
          cursorDot.style.top = e.clientY - 3 + 'px';
        }
      });

      document.querySelectorAll('a, button, .card').forEach(el => {
        el.addEventListener('mouseenter', () => {
          if (cursor) {
            cursor.style.transform = 'scale(1.5)';
            cursor.style.borderColor = '#7c3aed';
          }
        });
        el.addEventListener('mouseleave', () => {
          if (cursor) {
            cursor.style.transform = 'scale(1)';
            cursor.style.borderColor = '#00d4aa';
          }
        });
      });

      // Scroll reveal
      const revealElements = document.querySelectorAll('.reveal');
      const revealOnScroll = () => {
        revealElements.forEach(el => {
          const elementTop = el.getBoundingClientRect().top;
          const windowHeight = window.innerHeight;
          if (elementTop < windowHeight - 100) {
            el.classList.add('opacity-100', 'translate-y-0');
            el.classList.remove('opacity-0', 'translate-y-8');
          }
        });
      };
      window.addEventListener('scroll', revealOnScroll);
      revealOnScroll();

      // Nav background on scroll
      const nav = document.querySelector('nav');
      window.addEventListener('scroll', () => {
        if (nav) {
          if (window.scrollY > 50) {
            nav.style.background = 'rgba(10, 10, 15, 0.95)';
          } else {
            nav.style.background = 'rgba(10, 10, 15, 0.8)';
          }
        }
      });
    </script>
  </body>
</html>